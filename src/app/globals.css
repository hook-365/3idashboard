@import "tailwindcss";
@import "leaflet/dist/leaflet.css";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* Theme CSS Variables - Dark Theme (Default) */
/* Deep Space - Refined slate palette for professional astronomy work */
:root,
[data-theme="dark"] {
  /* Background colors - deep slate (deep space) */
  --color-bg-primary: #0f172a;
  --color-bg-secondary: #1e293b;
  --color-bg-tertiary: #334155;

  /* Text colors - warm white for excellent readability */
  --color-text-primary: #f1f5f9;
  --color-text-secondary: #e2e8f0;
  --color-text-tertiary: #94a3b8;
  --color-text-heading: #f8fafc;

  /* Border colors - slate */
  --color-border-primary: #475569;
  --color-border-secondary: #64748b;

  /* Status colors */
  --color-status-success: #10b981;
  --color-status-warning: #f59e0b;
  --color-status-error: #ef4444;
  --color-status-info: #3b82f6;

  /* Chart colors */
  --color-chart-primary: #3b82f6;
  --color-chart-secondary: #10b981;
  --color-chart-tertiary: #ef4444;
  --color-chart-quaternary: #a855f7;
  --color-chart-quinary: #f59e0b;
  --color-chart-senary: #06b6d4;
  --color-chart-perihelion: #ff6666;
  --color-chart-blackout: rgba(100, 100, 100, 0.1);

  /* Gradients */
  --gradient-title: linear-gradient(to right, #22d3ee, #3b82f6, #a855f7);
  --gradient-button: linear-gradient(to right, #d97706, #f59e0b);

  /* Interactive colors */
  --color-interactive-primary: #3b82f6;
  --color-interactive-primary-hover: #2563eb;
  --color-interactive-secondary: #64748b;
  --color-interactive-secondary-hover: #475569;
}

/* Light Theme - Warm Academic Paper */
/* Warm cream and earth tones palette inspired by classic scientific papers */
[data-theme="light"] {
  /* Background colors - warm cream tones (classic paper) */
  --color-bg-primary: #f5f1e8;
  --color-bg-secondary: #e8e2d5;
  --color-bg-tertiary: #d9d1c0;

  /* Text colors - deep charcoal for excellent readability */
  --color-text-primary: #2d2a24;
  --color-text-secondary: #4a453d;
  --color-text-tertiary: #6b6456;
  --color-text-heading: #1a1816;

  /* Border colors - soft taupe */
  --color-border-primary: #cbc3b3;
  --color-border-secondary: #b3a995;

  /* Status colors - natural and professional */
  --color-status-success: #2d7a4f;
  --color-status-warning: #b86b00;
  --color-status-error: #b91c1c;
  --color-status-info: #1e5a8e;

  /* Chart colors - vibrant and distinct */
  --color-chart-primary: #2563eb;
  --color-chart-secondary: #059669;
  --color-chart-tertiary: #dc2626;
  --color-chart-quaternary: #7c3aed;
  --color-chart-quinary: #ea580c;
  --color-chart-senary: #0891b2;
  --color-chart-perihelion: #ff5522;
  --color-chart-blackout: rgba(107, 100, 86, 0.15);

  /* Gradients - same as dark theme for consistency */
  --gradient-title: linear-gradient(to right, #22d3ee, #3b82f6, #a855f7);
  --gradient-button: linear-gradient(to right, #1e5a8e, #2563eb);

  /* Interactive colors - bright blue */
  --color-interactive-primary: #2563eb;
  --color-interactive-primary-hover: #1d4ed8;
  --color-interactive-secondary: #6b6456;
  --color-interactive-secondary-hover: #4a453d;
}

/* High Contrast Theme - Color-blind Safe */
[data-theme="high-contrast"] {
  /* Background colors */
  --color-bg-primary: #000000;
  --color-bg-secondary: #1a1a1a;
  --color-bg-tertiary: #2d2d2d;

  /* Text colors */
  --color-text-primary: #ffffff;
  --color-text-secondary: #f0f0f0;
  --color-text-tertiary: #c0c0c0;
  --color-text-heading: #ffffff;

  /* Border colors */
  --color-border-primary: #4a4a4a;
  --color-border-secondary: #6a6a6a;

  /* Status colors */
  --color-status-success: #33BBEE;
  --color-status-warning: #CCBB44;
  --color-status-error: #EE3377;
  --color-status-info: #0077BB;

  /* Chart colors - Color-blind safe palette */
  --color-chart-primary: #0077BB;
  --color-chart-secondary: #EE7733;
  --color-chart-tertiary: #33BBEE;
  --color-chart-quaternary: #EE3377;
  --color-chart-quinary: #CCBB44;
  --color-chart-senary: #009988;
  --color-chart-perihelion: #FF6699;
  --color-chart-blackout: rgba(100, 100, 100, 0.2);

  /* Gradients */
  --gradient-title: linear-gradient(to right, #0077BB, #33BBEE, #009988);
  --gradient-button: linear-gradient(to right, #EE7733, #CCBB44);

  /* Interactive colors */
  --color-interactive-primary: #0077BB;
  --color-interactive-primary-hover: #0099DD;
  --color-interactive-secondary: #6a6a6a;
  --color-interactive-secondary-hover: #8a8a8a;
}

body {
  background: var(--color-bg-primary);
  color: var(--color-text-primary);
  font-family: Arial, Helvetica, sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Leaflet map customizations for dark theme */
[data-theme="dark"] .leaflet-container {
  background-color: #1e293b !important;
}

[data-theme="dark"] .leaflet-popup-content-wrapper {
  background-color: #334155 !important;
  color: #f1f5f9 !important;
}

[data-theme="dark"] .leaflet-popup-tip {
  background-color: #334155 !important;
}

/* Leaflet map customizations for light theme */
[data-theme="light"] .leaflet-container {
  background-color: #e8e2d5 !important;
}

[data-theme="light"] .leaflet-popup-content-wrapper {
  background-color: #d9d1c0 !important;
  color: #2d2a24 !important;
}

[data-theme="light"] .leaflet-popup-tip {
  background-color: #d9d1c0 !important;
}

/* Leaflet map customizations for high-contrast theme */
[data-theme="high-contrast"] .leaflet-container {
  background-color: #000000 !important;
}

[data-theme="high-contrast"] .leaflet-popup-content-wrapper {
  background-color: #1a1a1a !important;
  color: #ffffff !important;
  border: 2px solid #6a6a6a !important;
}

[data-theme="high-contrast"] .leaflet-popup-tip {
  background-color: #1a1a1a !important;
  border: 2px solid #6a6a6a !important;
}

[data-theme="high-contrast"] .leaflet-control {
  background-color: #1a1a1a !important;
  border: 2px solid #6a6a6a !important;
  color: #ffffff !important;
}

[data-theme="high-contrast"] .leaflet-control a {
  background-color: #1a1a1a !important;
  color: #ffffff !important;
  border: 1px solid #6a6a6a !important;
}

[data-theme="high-contrast"] .leaflet-control a:hover {
  background-color: #2a2a2a !important;
}

[data-theme="high-contrast"] .leaflet-tile {
  filter: brightness(0.7) contrast(1.4) saturate(0.8);
}

/* Custom marker styles */
.custom-marker {
  border-radius: 50% !important;
}

/* Extension-safe chart container */
.extension-safe-chart-container {
  isolation: isolate;
  position: relative;
}

/* Real-time update animations */
@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 5px rgba(34, 197, 94, 0.5); }
  50% { box-shadow: 0 0 20px rgba(34, 197, 94, 0.8); }
}

.pulse-glow {
  animation: pulse-glow 2s infinite;
}

/* Timeline Slider Styles */
input[type="range"].slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  outline: none;
}

/* Slider thumb - Chrome, Safari, Edge */
input[type="range"].slider-thumb::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--color-chart-primary);
  cursor: pointer;
  border: 3px solid white;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
  transition: transform 0.15s ease;
}

input[type="range"].slider-thumb::-webkit-slider-thumb:hover {
  transform: scale(1.15);
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
}

input[type="range"].slider-thumb::-webkit-slider-thumb:active {
  transform: scale(1.25);
}

/* Slider thumb - Firefox */
input[type="range"].slider-thumb::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--color-chart-primary);
  cursor: pointer;
  border: 3px solid white;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
  transition: transform 0.15s ease;
}

input[type="range"].slider-thumb::-moz-range-thumb:hover {
  transform: scale(1.15);
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
}

input[type="range"].slider-thumb::-moz-range-thumb:active {
  transform: scale(1.25);
}
